<template>
  <div class="page-header text-center">
    <h1>Edytor kierunków</h1>
    <h3>${universityName}</h3>
  </div>
  <div class="container">
    <div class="panel-group">
      <div id="departments-panel">
          <div class="panel panel-default" repeat.for="department of departments">
              <div class="panel-heading">
                  <div class="row" id="department-editor-${$index}" style="display:none">
                      <div class="col-lg-11 col-md-10 col-sm-9">
                          <input value.bind="department.name" class="form-control">
                      </div>
                      <button type="submit" class="btn btn-primary" click.delegate="completeEditingDepartment($index)">Zatwierdź</button>
                  </div>
                  <div id="department-panel-${$index}" style="display:show">
                      <h4 class="panel-title pull-left">
                          <a id="department-anchor-${$index}" data-toggle="collapse" href="#collapse${$index}" aria-expanded="false">${department.name}</a>
                      </h4>
                      <div class="pull-right">
                          <span style="font-size:1.2em; margin-right:2px" class="glyphicon glyphicon-pencil" click.delegate="startEditingDepartment($index)"></span>
                          <span style="font-size:1.2em; margin-right:2px" class="glyphicon glyphicon-trash" click.delegate="deleteDepartment($index)"></span>
                          <span style="font-size:1.2em;" class="glyphicon glyphicon-plus" click.delegate="addCourse($index)"></span>
                      </div>
                      <div class="clearfix"></div>
                  </div>
              </div>
              <div id="collapse${$index}" class="panel-collapse collapse">
                  <ul class="list-group">
                      <li class="list-group-item" repeat.for="course of department.courses">
                          <div class="row" id="course-editor-${course.id}" style="display:none">
                              <div class="col-lg-11 col-md-10 col-sm-9">
                                  <input value.bind="course.name" class="form-control">
                              </div>
                              <button type="submit" class="btn btn-primary" click.delegate="completeEditingCourse(course)">Zatwierdź</button>
                          </div>
                          <div id="course-${course.id}" style="display: show">
                              <div class="pull-left">
                                  ${course.name}
                              </div>
                              <div class="pull-right">
                                  <span style="font-size:1.0em; margin-right:2px" class="glyphicon glyphicon-pencil" click.delegate="startEditingCourse(course)"></span>
                                  <span style="font-size:1.0em; margin-right:2px" class="glyphicon glyphicon-trash" click.delegate="deleteCourse(department,$index)"></span>
                              </div>
                              <div class="clearfix"></div>
                          </div>
                      </li>
                  </ul>
              </div>
          </div>
        <div class="panel panel-default">
          <div class="panel-heading">
            <div class="text-center">
              <span style="font-size:1.2em;" class="glyphicon glyphicon-plus-sign" click.delegate="addDepartment($index)"></span>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>
</template>